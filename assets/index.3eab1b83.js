import{u as b,a as O,c as f,b as F,d as V,e as T,f as x,r as m,j as l,g as z,h as k,i as P,R as j,k as B,P as S}from"./vendor.c73fb681.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}};$();const w=()=>b(),g=O;function C(e,t){const s=Array.of();for(let r=0;r<e;r++)typeof t=="function"?s.push(t(r,s)):s.push(t);return s}var i;(function(e){e.INIT="init",e.PLAYING="playing",e.WON="won",e.LOST="lost"})(i||(i={}));var o;(function(e){e.HIDDEN="hidden",e.REVEALED="revealed",e.FLAGGED="flagged",e.MINE_REVEALED="mine_revealed",e.MINE_EXPLODED="mine_exploded",e.MINE_CORRECT_FLAGGED="mine_correct_flagged",e.MINE_INCORRECT_FLAGGED="mine_incorrect_flagged"})(o||(o={}));function N(e,t){const s=t.rows*t.columns,r=e<t.columns,n=e>=s-t.columns,c=e%t.columns==0,a=e%t.columns==t.columns-1;return[...c?[]:[e-1],...a?[]:[e+1],...r?[]:[e-t.columns],...!r&&!c?[e-t.columns-1]:[],...!r&&!a?[e-t.columns+1]:[],...n?[]:[e+t.columns],...!n&&!c?[e+t.columns-1]:[],...!n&&!a?[e+t.columns+1]:[]]}const L=f("minesweeper/REVEAL_CELL"),_=e=>(t,s)=>{t(L(e));const r=s().minesweeper,n=r.cells[e];if(!n.mine&&n.neigboringMines===0){const c=r.ids.indexOf(e),a=N(c,r.board);for(const d of a){const p=r.ids[d],v=r.cells[p];!v.revealed&&!v.flagged&&t(_(p))}}},D=f("minesweeper/FLAG_CELL"),I=f("minesweeper/UNFLAG_CELL"),M=f("minesweeper/RESET");var H=F(R(),{[L.type]:(e,t)=>{const s=e.cells[t.payload];s.flagged=!1,s.revealed=!0,s.mine&&(e.state=i.LOST)},[D.type]:(e,t)=>{const s=e.cells[t.payload];s.flagged=!0;const r=Object.values(e.cells).filter(c=>c.mine),n=Object.values(e.cells).filter(c=>c.flagged);r.every(c=>c.flagged)&&r.length===n.length&&(e.state=i.WON)},[I.type]:(e,t)=>{const s=e.cells[t.payload];s.flagged=!1},[M.type]:()=>R()});function R(){const e={rows:9,columns:9},t=X(e);return{state:i.INIT,board:e,ids:t.map(s=>s.id),cells:Object.fromEntries(t.map(s=>[s.id,s]))}}function X(e){const t=e.rows*e.columns,s=C(t,n=>({id:n,flagged:!1,revealed:!1,mine:!1,neigboringMines:0})),r=W(e.columns,t-1);for(const n of r){s[n].mine=!0;const c=N(n,e);for(const a of c)s[a].neigboringMines+=1}return s}function W(e,t){return C(e,(s,r)=>{let n;do n=Math.floor(Math.random()*t);while(r.includes(n));return n})}const E=e=>e.minesweeper,q=e=>E(e).state,K=e=>E(e).board,U=e=>E(e).ids,A=e=>t=>E(t).cells[e],Y=e=>V(q,A(e),(t,s)=>{const{flagged:r,revealed:n,mine:c}=s;if(t===i.WON||t===i.LOST)switch(!0){case(r&&c):return o.MINE_CORRECT_FLAGGED;case(r&&!c):return o.MINE_INCORRECT_FLAGGED;case(n&&c):return o.MINE_EXPLODED;case c:return o.MINE_REVEALED;default:return o.REVEALED}switch(!0){case(n&&!c):return o.REVEALED;case r:return o.FLAGGED;default:return o.HIDDEN}}),J=T({reducer:{minesweeper:H}});var Q="te0htw7",Z="te0htw4",ee="te0htw0",u=x({defaultClassName:"te0htw9",variantClassNames:{state:{revealed:"te0htwa",mine_revealed:"te0htwb",mine_exploded:"te0htwc",mine_correct_flagged:"te0htwd",mine_incorrect_flagged:"te0htwe",flagged:"te0htwf",hidden:"te0htwg"},count:{"0":"te0htwh","1":"te0htwi","2":"te0htwj","3":"te0htwk","4":"te0htwl","5":"te0htwm","6":"te0htwn","7":"te0htwo","8":"te0htwp"}},defaultVariants:{},compoundVariants:[]}),te="te0htw8",ne="te0htw5",y="te0htwq",se="te0htw6",ce={columnCount:"var(--te0htw1)",cellSize:"var(--te0htw2)",gap:"var(--te0htw3)"};function re({id:e}){const t=w(),s=g(Y(e)),{neigboringMines:r}=g(A(e)),n=m.exports.useCallback(()=>t(_(e)),[t,e]),c=m.exports.useCallback(d=>{d.preventDefault(),t(D(e))},[t,e]),a=m.exports.useCallback(d=>{d.preventDefault(),t(I(e))},[t,e]);switch(s){case o.REVEALED:return l("div",{className:u({state:o.REVEALED,count:r}),children:r});case o.MINE_REVEALED:return l("div",{className:u({state:o.MINE_REVEALED}),children:l(G,{})});case o.MINE_EXPLODED:return l("div",{className:u({state:o.MINE_EXPLODED}),children:l(G,{})});case o.MINE_CORRECT_FLAGGED:return l("div",{className:u({state:o.MINE_CORRECT_FLAGGED}),children:l(h,{})});case o.MINE_INCORRECT_FLAGGED:return l("div",{className:u({state:o.MINE_INCORRECT_FLAGGED}),children:l(h,{})});case o.FLAGGED:return l("button",{className:u({state:o.FLAGGED}),onClick:a,onContextMenu:a,children:l(h,{})});default:return l("button",{className:u({state:o.HIDDEN}),onClick:n,onContextMenu:c})}}function G(){return l("div",{className:y,children:l("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"bomb",focusable:"false",role:"img",viewBox:"0 0 512 512",children:l("path",{fill:"currentColor",d:"M440.5 88.5l-52 52L415 167c9.4 9.4 9.4 24.6 0 33.9l-17.4 17.4c11.8 26.1 18.4 55.1 18.4 85.6 0 114.9-93.1 208-208 208S0 418.9 0 304 93.1 96 208 96c30.5 0 59.5 6.6 85.6 18.4L311 97c9.4-9.4 24.6-9.4 33.9 0l26.5 26.5 52-52 17.1 17zM500 60h-24c-6.6 0-12 5.4-12 12s5.4 12 12 12h24c6.6 0 12-5.4 12-12s-5.4-12-12-12zM440 0c-6.6 0-12 5.4-12 12v24c0 6.6 5.4 12 12 12s12-5.4 12-12V12c0-6.6-5.4-12-12-12zm33.9 55l17-17c4.7-4.7 4.7-12.3 0-17-4.7-4.7-12.3-4.7-17 0l-17 17c-4.7 4.7-4.7 12.3 0 17 4.8 4.7 12.4 4.7 17 0zm-67.8 0c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17zm67.8 34c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17zM112 272c0-35.3 28.7-64 64-64 8.8 0 16-7.2 16-16s-7.2-16-16-16c-52.9 0-96 43.1-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16z"})})})}function h(){return l("div",{className:y,children:l("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"flag",focusable:"false",role:"img",viewBox:"0 0 512 512",children:l("path",{fill:"currentColor",d:"M336.174 80c-49.132 0-93.305-32-161.913-32-31.301 0-58.303 6.482-80.721 15.168a48.04 48.04 0 0 0 2.142-20.727C93.067 19.575 74.167 1.594 51.201.104 23.242-1.71 0 20.431 0 48c0 17.764 9.657 33.262 24 41.562V496c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-83.443C109.869 395.28 143.259 384 199.826 384c49.132 0 93.305 32 161.913 32 58.479 0 101.972-22.617 128.548-39.981C503.846 367.161 512 352.051 512 335.855V95.937c0-34.459-35.264-57.768-66.904-44.117C409.193 67.309 371.641 80 336.174 80zM464 336c-21.783 15.412-60.824 32-102.261 32-59.945 0-102.002-32-161.913-32-43.361 0-96.379 9.403-127.826 24V128c21.784-15.412 60.824-32 102.261-32 59.945 0 102.002 32 161.913 32 43.271 0 96.32-17.366 127.826-32v240z"})})})}function le(){const{columns:e}=g(K),t=g(U);return l("div",{className:te,style:z({[ce.columnCount]:`${e}`}),children:t.map(s=>l(re,{id:s},s))})}function oe(){const e=w(),t=m.exports.useCallback(()=>e(M()),[e]);return l("div",{className:ne,children:l("button",{className:se,onClick:t,children:"Reset"})})}function ae(){return k("div",{className:P(Z,ee),children:[l(oe,{}),l("div",{className:Q}),l(le,{})]})}function ie(){return l("div",{children:l(ae,{})})}j.render(l(B.StrictMode,{children:l(S,{store:J,children:l(ie,{})})}),document.getElementById("root"));
